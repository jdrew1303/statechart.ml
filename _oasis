OASISFormat: 0.4
Name:        statechart
Version:     dev
Authors:     Cameron Bytheway <bytheway.cameron@gmail.com>
Maintainers: Cameron Bytheway <bytheway.cameron@gmail.com>
Homepage:    https://github.com/statechart/statechart.ml
Copyrights:  (C) 2017 Cameron Bytheway
License:     MIT
Plugins:     META (0.4), DevFiles (0.4)
BuildTools:  ocamlbuild
OCamlVersion: >= 4.01
Synopsis:    Statechart implementation for OCaml
Description:
   TODO

Library statechart
  Path:         src/lib
  Findlibname:  statechart
  Modules:      Statechart

Library statechart_analyzer
  Path:          src/analyzer
  Findlibname:   analyzer
  FindlibParent: statechart
  BuildDepends:  statechart
  Modules:       Statechart_analyzer,
                 Statechart_analyzer_printer,
                 Statechart_analyzer_types

Library statechart_datamodel
  Path:          src/datamodel
  Findlibname:   datamodel
  FindlibParent: statechart
  BuildDepends:  statechart
  Modules:       Statechart_datamodel

Library statechart_datamodel_ecmascript
  Path:          src/datamodel/ecmascript
  Findlibname:   ecmascript
  FindlibParent: statechart_datamodel
  BuildDepends:  statechart,
                 statechart.datamodel,
                 flow_parser (>= 0.38.0)
  Modules:       Statechart_datamodel_ecmascript

#Library statechart_format
#  Path:          src/format
#  Findlibname:   format
#  FindlibParent: statechart
#  BuildDepends:  statechart
#  Modules:       Statechart_format,
#                 Statechart_format_runtime

Library statechart_interpreter
  Path:          src/interpreter
  Findlibname:   interpreter
  FindlibParent: statechart
  BuildDepends:  statechart
  Modules:       Statechart_interpreter
  InternalModules: Statechart_interpreter_engine

Library statechart_translator
  Path:          src/translator
  Findlibname:   translator
  FindlibParent: statechart
  BuildDepends:  statechart,
                 statechart.analyzer,
                 statechart.datamodel
  Modules:       Statechart_translator

Library statechart_scxml
  Path:          src/scxml
  Findlibname:   scxml
  FindlibParent: statechart
  BuildDepends:  statechart,
                 statechart.analyzer,
#                 statechart.format,
                 humane_re (>= 0.1.0),
                 markup (>= 0.7.0)
  Modules:       Statechart_scxml

Executable statechart-scxml
  Path:         src/scxml_cli
  MainIs:       scxml.ml
  BuildDepends: statechart.scxml,
                cmdliner (>= 0.9)
  CompiledObject: best

Document api
  Title:                Documentation and API reference
  Type:                 ocamlbuild (0.4)
  BuildTools+:          ocamldoc
  Install:              true
  XOCamlBuildPath:      src
  XOCamlBuildLibraries: statechart,
#                        statechart.format,
                        statechart.scxml

Executable test_statechart
  Path:             test
  MainIs:           test_statechart.ml
  Build$:           flag(tests)
  CompiledObject:   best
  Install:          false
  BuildDepends:     statechart, alcotest (>= 0.4.1)

Test test_statechart
  Run$:             flag(tests)
  Command:          $test_statechart
  WorkingDirectory: test
